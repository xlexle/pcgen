{{#products/modal-main id=selectedItem.id onSelectTab=(action 'setActiveTab')}}
  <table class="table table-condensed">
    {{#if (eq activeTab "general")}}
      {{#products/modal-tab-general
      propertyList=selectedItem.propertyList
      onRequestUpdatePropertyList=(action 'updatePropertyList')}}

      {{/products/modal-tab-general}}
    {{/if}}

    {{#if (eq activeTab "external")}}
      {{#products/modal-tab-external
      product=selectedItem
      propertyList=selectedItem.propertyList
      onRequestUpdatePropertyList=(action 'updatePropertyList')}}

        {{products/modal-editable-row
        attributeLabel="Nätit kaapelit"
        attributeKey="prettyCables"
        attributeValue=selectedItem.prettyCables
        type="text"
        maxlength=64
        onApplyChange=(action 'updateProduct')}}

      {{/products/modal-tab-external}}
    {{/if}}

    {{#if (eq activeTab "technical")}}
    <tbody>
      {{products/modal-editable-row
      attributeLabel="Kokoluokka"
      attributeKey="formFactor"
      attributeValue=selectedItem.formFactor
      type="text"
      maxlength=64
      onApplyChange=(action 'updateProduct')}}

      {{products/modal-editable-row
      attributeLabel="Hyötysuhde"
      attributeKey="efficiency"
      attributeValue=selectedItem.efficiency
      type="text"
      maxlength=64
      onApplyChange=(action 'updateProduct')}}

      {{products/modal-editable-row
      attributeLabel="+12V kapasiteetti"
      attributeKey="amps12v"
      attributeValue=selectedItem.amps12v
      type="number"
      min=0
      max=999
      placeholder="0"
      units=" A"
      onApplyChange=(action 'updateProduct')}}

      {{products/modal-editable-row
      attributeLabel="Alkuperäinen valmistaja"
      attributeKey="oem"
      attributeValue=selectedItem.oem
      type="text"
      maxlength=64
      onApplyChange=(action 'updateProduct')}}

      {{products/modal-editable-row
      attributeLabel="Kaapelit"
      attributeKey="cables"
      attributeValue=selectedItem.cables
      type="text"
      maxlength=64
      onApplyChange=(action 'updateProduct')}}

      {{products/modal-editable-row
      attributeLabel="EPS-kaapelin pituus"
      attributeKey="epsLengthCm"
      attributeValue=selectedItem.epsLengthCm
      type="number"
      min=0
      max=999
      placeholder="0"
      units=" cm"
      onApplyChange=(action 'updateProduct')}}

      {{products/modal-editable-row
      attributeLabel="8-pin PCIe-liittimiä"
      attributeKey="pcie8pinQty"
      attributeValue=selectedItem.pcie8pinQty
      type="number"
      min=0
      max=99
      placeholder="0"
      units=" kpl"
      onApplyChange=(action 'updateProduct')}}

      {{products/modal-editable-row
      attributeLabel="6-pin PCIe-liittimiä"
      attributeKey="pcie6pinQty"
      attributeValue=selectedItem.pcie6pinQty
      type="number"
      min=0
      max=99
      placeholder="0"
      units=" kpl"
      onApplyChange=(action 'updateProduct')}}

      {{products/modal-editable-row
      attributeLabel="SATA-liittimiä"
      attributeKey="sataQty"
      attributeValue=selectedItem.sataQty
      type="number"
      min=0
      max=99
      placeholder="0"
      units=" kpl"
      onApplyChange=(action 'updateProduct')}}

      {{products/modal-editable-row
      attributeLabel="Semipassiivinen tuuletin"
      attributeKey="semipassive"
      attributeValue=selectedItem.semipassive
      type="text"
      maxlength=64
      onApplyChange=(action 'updateProduct')}}

      <!-- Tuuletinmoodin kytkin puuttuu -->

      {{products/modal-editable-row
      attributeLabel="Tuulettimen id"
      attributeKey=""
      attributeValue=""
      type="text"
      maxlength=64
      onApplyChange=(action 'updateProduct')}}
    </tbody>
    {{/if}}
  </table>
{{/products/modal-main}}

<div class="col-xs-12">
  {{#if model}}
  {{#each model as |item index|}}
  <div class="product-container">

    <div class="row">
      <div class="col-xs-12" data-toggle="modal" data-target="#product-details" data-keyboard=false {{action "setSelectedItem" item on="click"}}>
        <div class="row">
          <div class="col-xs-12 product-heading">
            <span class="name">{{item.propertyList.brand}} {{item.propertyList.productName}}</span>
            <span class="sub-text">{{item.formFactor}}</span>
            <span class="sub-text">{{item.efficiency}}</span>
            <span class="sku-text">{{item.propertyList.sku}}</span>
          </div>
        </div>
      </div>
    </div>

  </div>
  {{/each}}
  {{/if}}
</div>
